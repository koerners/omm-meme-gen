<div class="grid-container">
  <mat-grid-list [rowHeight]="330" cols="9">
    <mat-grid-tile colspan="1" rowspan="3">

    </mat-grid-tile>
    <mat-grid-tile colspan="5" rowspan="3">
      <mat-card class="dashboard-card">
        <mat-card-header>
          <mat-card-title>
            {{meme.title}}
            <button [matMenuTriggerFor]="menu" aria-label="Toggle menu" class="more-button" mat-icon-button>
              <mat-icon>more_vert</mat-icon>
            </button>
            <mat-menu #menu="matMenu" xPosition="before">

            </mat-menu>
          </mat-card-title>

        </mat-card-header>

        <mat-card-content class="dashboard-card-content">

          <mat-chip-list>
            <mat-chip *ngFor="let prediciton of predictions "
                      [style.backgroundColor]="prediciton.color">{{prediciton.className}}</mat-chip>
          </mat-chip-list>


          <mat-grid-list cols="10" rowHeight="800">
            <mat-grid-tile colspan="1">
              <button (click)="prevImage()" mat-fab color="primary" aria-label="Example icon button with a delete icon">
                <mat-icon>navigate_before</mat-icon>
              </button>
            </mat-grid-tile>
            <mat-grid-tile colspan="8">
              <img [src]="meme.imageString" #preview alt="Loading">
            </mat-grid-tile>
            <mat-grid-tile colspan="1">
              <button (click)="nextImage()" mat-fab color="primary" aria-label="Example icon button with a delete icon">
                <mat-icon>navigate_next</mat-icon>
              </button>
            </mat-grid-tile>
          </mat-grid-list>

          <button (click)="upvote()" [disabled]="meme.voted" style="margin-right: 5px;" mat-fab color="accent"
                  aria-label="Example icon button with a delete icon">
            <mat-icon>thumb_up</mat-icon>
          </button>
          <button (click)="downvote()" [disabled]="meme.voted" mat-fab color="warn"
                  aria-label="Example icon button with a delete icon">
            <mat-icon>thumb_down</mat-icon>
          </button>
          <p style="margin-top: 6px;" *ngIf="meme.voted">You have already voted this meme.</p>


        </mat-card-content>

      </mat-card>


    </mat-grid-tile>
    <mat-grid-tile colspan="2" rowspan="4">

      <mat-card class="dashboard-card">
        <mat-card-header>
          <mat-card-title>
            Comments
          </mat-card-title>
        </mat-card-header>
        <mat-card-content class="dashboard-card-content">

          <mat-list>
            <mat-form-field appearance="fill" style="width: 100%">
              <mat-label>Write a comment</mat-label>
              <textarea matInput [formControl]="commentText"></textarea>
              <button (click)="postComment()" color="primary" mat-raised-button
                      type="button">Comment
              </button>
            </mat-form-field>
            <mat-card *ngFor="let comment of comments" style="margin-top: 5px;"><b>{{comment.owner}}
              : </b> {{comment.text}} - <i>{{comment.created | date}}</i></mat-card>

          </mat-list>
        </mat-card-content>
      </mat-card>


    </mat-grid-tile>
    <mat-grid-tile colspan="1" rowspan="3">

    </mat-grid-tile>

    <mat-grid-tile colspan="1" rowspan="2">

    </mat-grid-tile>
    <mat-grid-tile colspan="5" rowspan="1">
      <mat-card class="dashboard-card">
        <mat-card-header>
          <mat-card-title>
            Details
          </mat-card-title>
        </mat-card-header>
        <mat-card-content class="dashboard-card-content">
          <div >
            <h3>Created by</h3>
            <h3>{{meme.owner}}</h3>
          </div>
          <div>
            <h3>Upvotes</h3>
            <h3>{{meme.upvotes}}</h3>
          </div>

          <div >
            <h3>Downvotes</h3>
            <h3>{{meme.downvotes}}</h3>
          </div>
        </mat-card-content>
      </mat-card>
      <mat-grid-tile colspan="3" rowspan="2">

      </mat-grid-tile>

    </mat-grid-tile>

  </mat-grid-list>
</div>


